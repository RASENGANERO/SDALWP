!function(t){"function"==typeof define&&define.amd?define("scripts",t):t()}((function(){"use strict";function t(){
/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */
t=function(){return e};var e={},n=Object.prototype,r=n.hasOwnProperty,i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",o=i.asyncIterator||"@@asyncIterator",s=i.toStringTag||"@@toStringTag";function u(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{u({},"")}catch(t){u=function(t,e,n){return t[e]=n}}function c(t,e,n,r){var i=e&&e.prototype instanceof d?e:d,a=Object.create(i.prototype),o=new q(r||[]);return a._invoke=function(t,e,n){var r="suspendedStart";return function(i,a){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===i)throw a;return k()}for(n.method=i,n.arg=a;;){var o=n.delegate;if(o){var s=_(o,n);if(s){if(s===f)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var u=l(t,e,n);if("normal"===u.type){if(r=n.done?"completed":"suspendedYield",u.arg===f)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(r="completed",n.method="throw",n.arg=u.arg)}}}(t,n,o),a}function l(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}e.wrap=c;var f={};function d(){}function p(){}function h(){}var v={};u(v,a,(function(){return this}));var m=Object.getPrototypeOf,y=m&&m(m(j([])));y&&y!==n&&r.call(y,a)&&(v=y);var w=h.prototype=d.prototype=Object.create(v);function g(t){["next","throw","return"].forEach((function(e){u(t,e,(function(t){return this._invoke(e,t)}))}))}function b(t,e){function n(i,a,o,s){var u=l(t[i],t,a);if("throw"!==u.type){var c=u.arg,f=c.value;return f&&"object"==typeof f&&r.call(f,"__await")?e.resolve(f.__await).then((function(t){n("next",t,o,s)}),(function(t){n("throw",t,o,s)})):e.resolve(f).then((function(t){c.value=t,o(c)}),(function(t){return n("throw",t,o,s)}))}s(u.arg)}var i;this._invoke=function(t,r){function a(){return new e((function(e,i){n(t,r,e,i)}))}return i=i?i.then(a,a):a()}}function _(t,e){var n=t.iterator[e.method];if(void 0===n){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=void 0,_(t,e),"throw"===e.method))return f;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return f}var r=l(n,t.iterator,e.arg);if("throw"===r.type)return e.method="throw",e.arg=r.arg,e.delegate=null,f;var i=r.arg;return i?i.done?(e[t.resultName]=i.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,f):i:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,f)}function x(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function z(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function q(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(x,this),this.reset(!0)}function j(t){if(t){var e=t[a];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var n=-1,i=function e(){for(;++n<t.length;)if(r.call(t,n))return e.value=t[n],e.done=!1,e;return e.value=void 0,e.done=!0,e};return i.next=i}}return{next:k}}function k(){return{value:void 0,done:!0}}return p.prototype=h,u(w,"constructor",h),u(h,"constructor",p),p.displayName=u(h,s,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===p||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,h):(t.__proto__=h,u(t,s,"GeneratorFunction")),t.prototype=Object.create(w),t},e.awrap=function(t){return{__await:t}},g(b.prototype),u(b.prototype,o,(function(){return this})),e.AsyncIterator=b,e.async=function(t,n,r,i,a){void 0===a&&(a=Promise);var o=new b(c(t,n,r,i),a);return e.isGeneratorFunction(n)?o:o.next().then((function(t){return t.done?t.value:o.next()}))},g(w),u(w,s,"Generator"),u(w,a,(function(){return this})),u(w,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=[];for(var n in t)e.push(n);return e.reverse(),function n(){for(;e.length;){var r=e.pop();if(r in t)return n.value=r,n.done=!1,n}return n.done=!0,n}},e.values=j,q.prototype={constructor:q,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(z),!t)for(var e in this)"t"===e.charAt(0)&&r.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function n(n,r){return o.type="throw",o.arg=t,e.next=n,r&&(e.method="next",e.arg=void 0),!!r}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],o=a.completion;if("root"===a.tryLoc)return n("end");if(a.tryLoc<=this.prev){var s=r.call(a,"catchLoc"),u=r.call(a,"finallyLoc");if(s&&u){if(this.prev<a.catchLoc)return n(a.catchLoc,!0);if(this.prev<a.finallyLoc)return n(a.finallyLoc)}else if(s){if(this.prev<a.catchLoc)return n(a.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return n(a.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n];if(i.tryLoc<=this.prev&&r.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var a=i;break}}a&&("break"===t||"continue"===t)&&a.tryLoc<=e&&e<=a.finallyLoc&&(a=null);var o=a?a.completion:{};return o.type=t,o.arg=e,a?(this.method="next",this.next=a.finallyLoc,f):this.complete(o)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),f},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),z(n),f}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var i=r.arg;z(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,n){return this.delegate={iterator:j(t),resultName:e,nextLoc:n},"next"===this.method&&(this.arg=void 0),f}},e}function e(t,e,n,r,i,a,o){try{var s=t[a](o),u=s.value}catch(t){return void n(t)}s.done?e(u):Promise.resolve(u).then(r,i)}function n(t){return function(){var n=this,r=arguments;return new Promise((function(i,a){var o=t.apply(n,r);function s(t){e(o,i,a,s,u,"next",t)}function u(t){e(o,i,a,s,u,"throw",t)}s(void 0)}))}}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function a(t,e,n){return e&&i(t.prototype,e),n&&i(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&u(t,e)}function s(t){return s=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},s(t)}function u(t,e){return u=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},u(t,e)}function c(t,e){if(e&&("object"==typeof e||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function l(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=s(t);if(e){var i=s(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return c(this,n)}}function f(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null==n)return;var r,i,a=[],o=!0,s=!1;try{for(n=n.call(t);!(o=(r=n.next()).done)&&(a.push(r.value),!e||a.length!==e);o=!0);}catch(t){s=!0,i=t}finally{try{o||null==n.return||n.return()}finally{if(s)throw i}}return a}(t,e)||function(t,e){if(!t)return;if("string"==typeof t)return d(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return d(t,e)}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function d(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function p(t){for(var e=encodeURIComponent(t)+"=",n=document.cookie.split(";"),r=0;r<n.length;r++){for(var i=n[r];" "===i.charAt(0);)i=i.substring(1,i.length);if(0===i.indexOf(e))return decodeURIComponent(i.substring(e.length,i.length))}return null}function h(t){var e=function(e){return(n=t,n.split("").map((function(t){return t.charCodeAt(0)}))).reduce((function(t,e){return t^e}),e);var n};return function(t){return t.match(/.{1,2}/g).map((function(t){return parseInt(t,16)})).map(e).map((function(t){return String.fromCharCode(t)})).join("")}}function v(t){var e=this.constructor;return this.then((function(n){return e.resolve(t()).then((function(){return n}))}),(function(n){return e.resolve(t()).then((function(){return e.reject(n)}))}))}function m(t){return new this((function(e,n){if(!t||void 0===t.length)return n(new TypeError(typeof t+" "+t+" is not iterable(cannot read property Symbol(Symbol.iterator))"));var r=Array.prototype.slice.call(t);if(0===r.length)return e([]);var i=r.length;function a(t,n){if(n&&("object"==typeof n||"function"==typeof n)){var o=n.then;if("function"==typeof o)return void o.call(n,(function(e){a(t,e)}),(function(n){r[t]={status:"rejected",reason:n},0==--i&&e(r)}))}r[t]={status:"fulfilled",value:n},0==--i&&e(r)}for(var o=0;o<r.length;o++)a(o,r[o])}))}var y=setTimeout;function w(t){return Boolean(t&&void 0!==t.length)}function g(){}function b(t){if(!(this instanceof b))throw new TypeError("Promises must be constructed via new");if("function"!=typeof t)throw new TypeError("not a function");this._state=0,this._handled=!1,this._value=void 0,this._deferreds=[],k(t,this)}function _(t,e){for(;3===t._state;)t=t._value;0!==t._state?(t._handled=!0,b._immediateFn((function(){var n=1===t._state?e.onFulfilled:e.onRejected;if(null!==n){var r;try{r=n(t._value)}catch(t){return void z(e.promise,t)}x(e.promise,r)}else(1===t._state?x:z)(e.promise,t._value)}))):t._deferreds.push(e)}function x(t,e){try{if(e===t)throw new TypeError("A promise cannot be resolved with itself.");if(e&&("object"==typeof e||"function"==typeof e)){var n=e.then;if(e instanceof b)return t._state=3,t._value=e,void q(t);if("function"==typeof n)return void k((r=n,i=e,function(){r.apply(i,arguments)}),t)}t._state=1,t._value=e,q(t)}catch(e){z(t,e)}var r,i}function z(t,e){t._state=2,t._value=e,q(t)}function q(t){2===t._state&&0===t._deferreds.length&&b._immediateFn((function(){t._handled||b._unhandledRejectionFn(t._value)}));for(var e=0,n=t._deferreds.length;e<n;e++)_(t,t._deferreds[e]);t._deferreds=null}function j(t,e,n){this.onFulfilled="function"==typeof t?t:null,this.onRejected="function"==typeof e?e:null,this.promise=n}function k(t,e){var n=!1;try{t((function(t){n||(n=!0,x(e,t))}),(function(t){n||(n=!0,z(e,t))}))}catch(t){if(n)return;n=!0,z(e,t)}}b.prototype.catch=function(t){return this.then(null,t)},b.prototype.then=function(t,e){var n=new this.constructor(g);return _(this,new j(t,e,n)),n},b.prototype.finally=v,b.all=function(t){return new b((function(e,n){if(!w(t))return n(new TypeError("Promise.all accepts an array"));var r=Array.prototype.slice.call(t);if(0===r.length)return e([]);var i=r.length;function a(t,o){try{if(o&&("object"==typeof o||"function"==typeof o)){var s=o.then;if("function"==typeof s)return void s.call(o,(function(e){a(t,e)}),n)}r[t]=o,0==--i&&e(r)}catch(t){n(t)}}for(var o=0;o<r.length;o++)a(o,r[o])}))},b.allSettled=m,b.resolve=function(t){return t&&"object"==typeof t&&t.constructor===b?t:new b((function(e){e(t)}))},b.reject=function(t){return new b((function(e,n){n(t)}))},b.race=function(t){return new b((function(e,n){if(!w(t))return n(new TypeError("Promise.race accepts an array"));for(var r=0,i=t.length;r<i;r++)b.resolve(t[r]).then(e,n)}))},b._immediateFn="function"==typeof setImmediate&&function(t){setImmediate(t)}||function(t){y(t,0)},b._unhandledRejectionFn=function(t){"undefined"!=typeof console&&console&&console.warn("Possible Unhandled Promise Rejection:",t)};var C=function(){if("undefined"!=typeof self)return self;if("undefined"!=typeof window)return window;if("undefined"!=typeof global)return global;throw new Error("unable to locate global object")}();"function"!=typeof C.Promise?C.Promise=b:(C.Promise.prototype.finally||(C.Promise.prototype.finally=v),C.Promise.allSettled||(C.Promise.allSettled=m));var D=1,E=16,Q=256,P=4096,I=65536,A=function(){function t(e){r(this,t),this._value=e}return a(t,[{key:"value",get:function(){return this._value}},{key:"type",get:function(){return"general"}}]),t}(),O=function(t){o(n,t);var e=l(n);function n(){return r(this,n),e.apply(this,arguments)}return a(n)}(A),S=function(t){o(n,t);var e=l(n);function n(t,i){var a;return r(this,n),(a=e.call(this,t))._customValue=i,a}return a(n,[{key:"type",get:function(){return"custom"}},{key:"customValue",get:function(){return this._customValue}}]),n}(A),T=function(){function e(t,n,i){var a,o,s;r(this,e),this._jquery=t,this.quizleData=[],this.answerData=[],this._decrypt=i,this._cookieName=n,null===p(n)&&(a=n,o=this.generateUniqueId(),s=31536e4,document.cookie=[encodeURIComponent(a)+"="+encodeURIComponent(o),"max-age="+s,"path=/"].join("; "))}var i;return a(e,[{key:"jquery",get:function(){return this._jquery}},{key:"cookieName",get:function(){return this._cookieName}},{key:"cookie",get:function(){return p(this.cookieName)}},{key:"decrypt",get:function(){return this._decrypt}},{key:"getQuizleData",value:function(t){if(void 0===this.quizleData[t.data("identity")]){var e=this.jquery;try{void 0!==t.data("results")&&(this.answerData[t.data("identity")]=JSON.parse(decodeURIComponent(atob(this.decrypt(t.data("results"))))))}catch(t){console.error(t)}this.quizleData[t.data("identity")]={isInProcess:!1,$currentQuestion:null,totalCount:Number(t.data("questions_count")),countConfirmed:0,answers:{},result:{},jqxhr:null};var n=0;t.find(".js-quizle-question").each((function(t,r){return e(r).data("index",n++)})),this.submitQuizleData(t,D)}return this.quizleData[t.data("identity")]}},{key:"increaseTotalCount",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;this.getQuizleData(t).totalCount+=e}},{key:"getRightAnswers",value:function(t,e){return this.getQuizleData(t),void 0!==this.answerData[t.data("identity")]&&void 0!==this.answerData[t.data("identity")][e.data("identity")]?this.answerData[t.data("identity")][e.data("identity")]:[]}},{key:"setInProcess",value:function(t,e){return this.getQuizleData(t).isInProcess=e,this}},{key:"isInProcess",value:function(t){return this.getQuizleData(t).isInProcess}},{key:"setCurrentQuestion",value:function(t,e){return this.getQuizleData(t).$currentQuestion=e,this}},{key:"setConfirmed",value:function(t,e){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];e.data("confirmed",n),n?e.addClass("confirmed"):e.removeClass("confirmed");var r=this.jquery,i=0;t.find(".js-quizle-question").each((function(t,e){r(e).data("confirmed")&&i++})),this.getQuizleData(t).countConfirmed=i;var a=[],o=this.getQuizleData(t).answers[e.data("identity")];if(o)for(var s=0;s<o.length;s++){var u=o[s];"custom"===u.type?a.push(u.custom_answer):"__text__"===u.answer?a.push(u.val):a.push(e.find('.js-quizle-answer[data-identity="'+u.answer+'"]').find(".quizle-answer__text").text())}return document.dispatchEvent(new CustomEvent("quizle:confirm",{detail:{quizle:t.data("title"),question:e.find(".quizle-question__title").text(),$quizle:t,$question:e,answers:a}})),this}},{key:"getCurrentQuestion",value:function(t){return this.getQuizleData(t).$currentQuestion}},{key:"addAnswer",value:function(t,e,n){var r=e;e instanceof jQuery&&(r=e.data("identity")),void 0===this.getQuizleData(t).answers[r]&&(this.getQuizleData(t).answers[r]=[]);var i={answer:"",val:"",type:n.type};if(n instanceof O)i.answer="__text__",i.val=n.value;else if(i.answer=n.value,n instanceof S&&(i.custom_answer=n.customValue),void 0!==this.answerData[t.data("identity")]&&void 0!==this.answerData[t.data("identity")][r]){var a=this.answerData[t.data("identity")][r].filter((function(t){return t.id===n.value}));a.length&&(i.val=a[0].val)}var o=this.getQuizleData(t).answers[r].filter((function(t){return t.answer!==i.answer}));return o.push(i),this.getQuizleData(t).answers[r]=o,console.log("addAnswer",this.getQuizleData(t).answers),this}},{key:"removeAnswer",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=e;if(e instanceof jQuery&&(r=e.data("identity")),void 0!==this.getQuizleData(t).answers[r]){if(null===n)this.getQuizleData(t).answers[r]=[];else{var i=n.value;n instanceof O&&(i="__text__"),this.getQuizleData(t).answers[r]=this.getQuizleData(t).answers[r].filter((function(t){return t.answer!==i}))}this.getQuizleData(t).answers[r].length||delete this.getQuizleData(t).answers[r]}return console.log("removeAnswer",this.getQuizleData(t).answers),this}},{key:"getAnswersValue",value:function(t){for(var e=0,n=0,r=Object.entries(this.getQuizleData(t).answers);n<r.length;n++){var i=f(r[n],2);i[0];e+=i[1].reduce((function(t,e){var n=parseInt(e.val);return(isNaN(n)?0:n)+t}),0)}return e}},{key:"isQuestionAnswered",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return null===e&&(e=t.parents(".js-quizle")),void 0!==t.data("identity")&&void 0!==this.getQuizleData(e).answers[t.data("identity")]}},{key:"getScriptParams",get:function(){return window.quizle_script_params||{}}},{key:"submitQuizleData",value:(i=n(t().mark((function e(n,r){var i,a,o,s,u=arguments;return t().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(i=u.length>2&&void 0!==u[2]?u[2]:null,a=!!n.data("options").save_contacts_and_results,t.prev=2,(o=new FormData(null!==i?i:void 0)).set("action","quizle_save_result"),o.set("nonce",this.getScriptParams.nonce),o.set("data[quizle]",n.data("identity")),o.set("data[cookie]",this.cookie),o.set("data[context]",n.data("context")),a||E&r||P&r){t.next=11;break}return t.abrupt("return",null);case 11:return a?D&r?o.append("data[_action][init_result]",1):(o.set("data[result][id]",this.getQuizleData(n).result.id),o.set("data[result][_mac]",this.getQuizleData(n).result._mac)):o.set("data[_use_empty_result]",1),a&&Q&r&&(o.append("data[_action][update_answers]",1),o.set("data[answers]",JSON.stringify(this.getQuizleData(n).answers))),a&&I&r&&o.append("data[_action][update_finished]",1),P&r&&o.append("data[_action][update_contacts]",1),E&r&&(o.append("data[_action][get_result_content]",1),o.set("data[score]",this.getAnswersValue(n)),a||o.set("data[answers]",JSON.stringify(this.getQuizleData(n).answers))),t.next=18,fetch(this.getScriptParams.url,{method:"POST",body:R(o)});case 18:if((s=t.sent).ok){t.next=21;break}return t.abrupt("return",null);case 21:return t.next=23,s.json();case 23:if(!(s=t.sent).success){t.next=27;break}return D&r&&(this.getQuizleData(n).result=s.data.result),t.abrupt("return",new L(s.data));case 27:return t.abrupt("return",new N(s.data));case 30:t.prev=30,t.t0=t.catch(2),console.error(t.t0);case 33:return t.abrupt("return",null);case 34:case"end":return t.stop()}}),e,this,[[2,30]])}))),function(t,e){return i.apply(this,arguments)})},{key:"generateUniqueId",value:function(){return Math.random().toString(36).substring(2,10)+Math.random().toString(36).substring(2,10)+Math.random().toString(36).substring(2,10)+Math.random().toString(36).substring(2,10)}}]),e}(),L=function(){function t(e){r(this,t),this._data=e}return a(t,[{key:"resultContent",get:function(){return this._data.result_content}},{key:"contactsSuccessMessage",get:function(){return this._data.contacts_success_message}}]),t}(),N=function(){function t(e){r(this,t),this._data=e}return a(t,[{key:"messages",get:function(){return Array.isArray(this._data)?this._data.map((function(t){return t.message})):[this._data.message]}}]),t}();function R(t){var e=new FormData;return Array.from(t.entries()).sort((function(t,e){return f(t,1)[0]>f(e,1)[0]?1:-1})).forEach((function(t){var n=f(t,2),r=n[0],i=n[1];e.append(r,i)})),e}function U(t){return $.apply(this,arguments)}function $(){return $=n(t().mark((function e(n){return t().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",new Promise((function(t){setTimeout((function(){return t()}),n)})));case 1:case"end":return t.stop()}}),e)}))),$.apply(this,arguments)}var F="quizle-goodshare-plugin-js",M=!1;function V(t){return B.apply(this,arguments)}function B(){return B=n(t().mark((function e(n){var r,i,a=arguments;return t().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(r=a.length>1&&void 0!==a[1]&&a[1],n){t.next=4;break}return console.warn("Unable to init social share script for quizle"),t.abrupt("return");case 4:if(null!==document.getElementById(F)){t.next=13;break}return(i=document.createElement("script")).id=F,i.src=n||"//cdn.jsdelivr.net/npm/goodshare.js@6/goodshare.min.js",i.type="text/javascript",i.onload=function(){M=!0,r&&G()},i.async=1,t.next=13,(document.getElementsByTagName("head")[0]||document.getElementsByTagName("body")[0]).appendChild(i);case 13:r&&(M?G():document.getElementById(F).onload=function(){M=!0,G()});case 14:case"end":return t.stop()}}),e)}))),B.apply(this,arguments)}function G(){window._goodshare.reNewAllInstance()}function X(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,e=arguments.length>1?arguments[1]:void 0;if(null===t)return!1;var n=H(e);return t.reduce((function(t,e){return t&&n(e)}),!0)}function H(t){function e(e){var n=e.target,r=e.compare,i=e.value,a=e.compareOptions,o=t[n];if(void 0===o)return!1;o=Array.isArray(o)?o:[o];switch(r){case"in":for(var s=0;s<o.length;s++)if(i.includes(o[s].answer))return!0;return!1;case"like":for(var u=a.partial,c=void 0===u||u,l=a.caseSensitive,f=void 0!==l&&l,d=0;d<o.length;d++)if("__text__"===o[d].answer)return J(o[d].val,i[0],c,f);return!1;default:console.warn('Unknown compare operation"'+r+'"')}return!1}return function(t){var n=t.type,r=t.relation,i=t.conditions;if(!["AND","OR"].includes(r.toUpperCase()))return!1;var a=i.filter((function(t){return!parseInt(t.disabled)})).reduce((function(t,n){return"AND"===r.toUpperCase()?t&&e(n):t||e(n)}),"AND"===r.toUpperCase());return"show"===n?a:!a}}function J(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];"string"!=typeof t&&(t=t.toString()),e=e.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&"),r||(t=t.toUpperCase(),e=e.toUpperCase());var i=e.replace(/%/g,".*");n||(i="^"+i+"$");var a=new RegExp(i);return a.test(t)}jQuery((function(e){var r,i="test",a="slides",o="before_results",s="after_results",u="only_contacts",c=3500,l=h(p(atob("cXVpemxlLXNhbHQ="))),d=new T(e,atob("cXVpemxlLXVpZA=="),h(p(atob("cXVpemxlLXNhbHQ="))));function v(t,e,n){var r=(n.val()||"").trim();r?n.parents(".js-quizle-answer").addClass("checked"):n.parents(".js-quizle-answer").removeClass("checked"),d.removeAnswer(t,e).addAnswer(t,e,new O(r))}function m(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1100,r=t.parents(".js-quizle");return new b((function(i){d.setInProcess(r,!0),tt(r);var a=d.getRightAnswers(r,t);a.forEach((function(e){t.find('[data-identity="'+e.id+'"]').addClass("reveal-right")})),t.find(".js-quizle-answer.checked").each((function(){var t=e(this);t.addClass(a.filter((function(e){return e.id===t.data("identity")})).length?"right":"wrong")})),setTimeout((function(){d.setInProcess(r,!1),tt(r),i(t)}),n)}))}function y(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return function(e){e.data("answer_desc_shown",1);var n=e.parents(".js-quizle");return new b((function(r){var i=e.find(".js-quizle-answer-description");i.text()?t?e.find(".js-quizle-answers").animate({height:0,opacity:0},et(n,"animation_duration"),(function(){i.show(0,(function(){r(e)}))})):i.slideDown(et(n,"animation_duration"),(function(){r(e)})):r(e)}))}}function w(t){var e=t.find(".js-quizle-answer-description");return new b((function(n,r){try{var i=e.text();!e.data("enc")&&i&&(i=decodeURIComponent(atob(l(i))),e.data("enc",1),e.html(i)),n(t)}catch(t){r(t)}}))}function g(t){return _.apply(this,arguments)}function _(){return(_=n(t().mark((function e(n){return t().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,m(n);case 2:return t.next=4,w(n);case 4:return t.next=6,y(!1)(n);case 6:return t.abrupt("return",n);case 7:case"end":return t.stop()}}),e)})))).apply(this,arguments)}function x(t){return z.apply(this,arguments)}function z(){return(z=n(t().mark((function e(n){var r,i,c,l;return t().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(r=n.parents(".js-quizle"),i=et(r,"contacts_order"),c=et(r,"view_type"),!d.isInProcess(r)){t.next=5;break}return t.abrupt("return",null);case 5:return d.setConfirmed(r,n),t.next=8,j(n);case 8:if(null!==(l=t.sent)){t.next=26;break}if(document.dispatchEvent(new CustomEvent("quizle:finish",{detail:{quizle:r.data("title"),$quizle:r}})),et(r,"show_results")){t.next=14;break}return t.next=14,U(600);case 14:if(o!==i&&u!==i){t.next=20;break}return d.submitQuizleData(r,Q|I),t.next=18,J(r,a===c);case 18:t.next=24;break;case 20:if(s!==i&&null!==i){t.next=24;break}return b.all([d.submitQuizleData(r,Q|E|I),M(r)]).then((function(t){var e=f(t,1)[0];null!==e&&$(r,e)})),t.next=24,G(r,a===et(r,"view_type"));case 24:t.next=31;break;case 26:tt(r),Y(l),q(n),l.find('.js-quizle-answer input[type="text"], .js-quizle-answer textarea').first().focus(),document.dispatchEvent(new CustomEvent("quizle:next",{detail:{quizle:r.data("title"),$quizle:r,$question:l}}));case 31:return t.abrupt("return",l);case 32:case"end":return t.stop()}}),e)})))).apply(this,arguments)}function q(t){t.find(".js-quizle-video, .js-quizle-video-embed iframe").each((function(){if("video"===this.tagName.toLowerCase())this.pause();else{var t=this.src;this.src=t}}))}function j(t){return k.apply(this,arguments)}function k(){return k=n(t().mark((function e(n){var r,i,a;return t().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:r=n.parents(".js-quizle"),i=n.next(),a=0;case 3:if(!(a<1e4)){t.next=10;break}if(i.data("conditions")){t.next=6;break}return t.abrupt("break",10);case 6:X(i.data("conditions"),d.getQuizleData(r).answers)||(i=i.next());case 7:a++,t.next=3;break;case 10:if(i.data("conditions")&&!i.data("_increased_total_count")&&(i.data("_increased_total_count",1),d.increaseTotalCount(r)),K(r),i.length){t.next=14;break}return t.abrupt("return",null);case 14:return t.abrupt("return",new b((function(t){i.addClass("show"),n.addClass("hide"),d.setInProcess(r,!0),setTimeout((function(){n.hide().removeClass("hide show"),i.show().removeClass("show"),d.setInProcess(r,!1).setCurrentQuestion(r,i.length?i:null),Z(i),t(i)}),et(r,"animation_duration"))})));case 15:case"end":return t.stop()}}),e)}))),k.apply(this,arguments)}function C(t){return D.apply(this,arguments)}function D(){return(D=n(t().mark((function e(n){var r,i;return t().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(r=n.parents(".js-quizle"),!d.isInProcess(r)){t.next=3;break}return t.abrupt("return",null);case 3:return t.next=5,L(n);case 5:return i=t.sent,d.setCurrentQuestion(r,i),tt(r),Y(i),document.dispatchEvent(new CustomEvent("quizle:prev",{detail:{quizle:r.data("title"),$quizle:r,$question:i}})),t.abrupt("return",i);case 11:case"end":return t.stop()}}),e)})))).apply(this,arguments)}function L(t){return R.apply(this,arguments)}function R(){return R=n(t().mark((function e(n){var r,i,a;return t().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:r=n.parents(".js-quizle"),i=n.prev(),a=0;case 3:if(!(a<1e4)){t.next=10;break}if(i.data("conditions")){t.next=6;break}return t.abrupt("break",10);case 6:i=i.prev();case 7:a++,t.next=3;break;case 10:if(i.length){t.next=12;break}return t.abrupt("return",null);case 12:return t.abrupt("return",new b((function(t){d.setInProcess(r,!0),i.addClass("hide"),n.addClass("show"),setTimeout((function(){n.hide().removeClass("hide").removeClass("show"),i.show().removeClass("hide"),d.setInProcess(r,!1),Z(i),t(i)}),et(r,"animation_duration"))})));case 13:case"end":return t.stop()}}),e)}))),R.apply(this,arguments)}function $(t,e){return F.apply(this,arguments)}function F(){return(F=n(t().mark((function n(r,i){var a;return t().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(i){t.next=2;break}return t.abrupt("return");case 2:if(!(i instanceof N)){t.next=5;break}return alert(i.messages.join("\n")),t.abrupt("return");case 5:if(i.resultContent){t.next=7;break}return t.abrupt("return");case 7:if((a=r.find(".js-quizle-results")).empty().append(e(i.resultContent)),!a.find(".js-social-share").length){t.next=12;break}return t.next=12,V(d.getScriptParams.goodshare_url,!0);case 12:case"end":return t.stop()}}),n)})))).apply(this,arguments)}function M(t){return B.apply(this,arguments)}function B(){return B=n(t().mark((function e(n){var r;return t().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=et(n,"progress_animation_duration")||2e3,t.abrupt("return",new b((function(t){var e=0,i=n.find(".js-result-progress-bar"),a=setInterval((function(){e+=Number(100/r*100),e=Math.min(100,e),i.css("width",e.toFixed(2)+"%")}),100);setTimeout((function(){clearInterval(a),i.css("width","100%"),t()}),r+r/5)})));case 2:case"end":return t.stop()}}),e)}))),B.apply(this,arguments)}function G(t){return H.apply(this,arguments)}function H(){return H=n(t().mark((function e(n){var r,i,a=arguments;return t().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=!(a.length>1&&void 0!==a[1])||a[1],i=a.length>2&&void 0!==a[2]?a[2]:c,r&&(n.find(".js-quizle-questions").fadeOut(et(n,"animation_duration")),n.find(".js-quizle-footer").hide(),n.find(".js-quizle-contacts").hide()),n.find(".js-quizle-progress").hide(),t.abrupt("return",new b((function(t){i<et(n,"animation_duration")&&(i=et(n,"animation_duration")),n.find(".js-quizle-results").fadeIn(et(n,"animation_duration")),document.dispatchEvent(new CustomEvent("quizle:show_results",{detail:{quizle:n.data("title"),$quizle:n}})),setTimeout((function(){return t(n)}),i)})));case 5:case"end":return t.stop()}}),e)}))),H.apply(this,arguments)}function J(t){return W.apply(this,arguments)}function W(){return W=n(t().mark((function e(n){var r,i,a=arguments;return t().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(r=!(a.length>1&&void 0!==a[1])||a[1],(i=n.find(".js-quizle-contacts")).length){t.next=4;break}return t.abrupt("return",n);case 4:return r&&(n.find(".js-quizle-questions").hide(),n.find(".js-quizle-footer").hide(),n.find(".js-quizle-results").hide()),n.find(".js-quizle-progress").hide(),t.abrupt("return",new b((function(t){d.setInProcess(n,!0),i.fadeIn(et(n,"animation_duration"),(function(){i.find('button[type="submit"]').attr("disabled",!1),d.setInProcess(n,!1),i.find("input").first().focus(),document.dispatchEvent(new CustomEvent("quizle:show_contacts",{quizle:n.data("title"),$quizle:n})),t(n)}))})));case 7:case"end":return t.stop()}}),e)}))),W.apply(this,arguments)}function Y(t){var e=t.parents(".js-quizle"),n=t.prev(),r=e.find(".js-quizle-prev-step");n.length?r.prop("disabled",!1):r.prop("disabled",!0)}function K(t){var e=t.find(".js-quizle-progress"),n=d.getQuizleData(t),r=n.totalCount,i=n.countConfirmed,a=null;if(i>0&&(a=Number(i/r*100),document.dispatchEvent(new CustomEvent("quizle:progress",{detail:{quizle:t.data("title"),$quizle:t,percent:a}}))),"line"===e.data("type")){var o=e.find(".js-quizle-progress-bar"),s=e.find(".js-quizle-progress-percent"),u="0";a&&(u=a.toFixed(2)+"%",o.css({width:u}),s.text(a.toFixed(0)+"%"))}"numbers"===e.data("type")&&(e.find(".js-quizle-progress-step").text(i),e.find(".js-quizle-progress-total").text(r))}function Z(t){var e=t.parents(".js-quizle").find(".js-quizle-next-step-description");if("textarea"===t.data("type")){if(void 0!==e.data("_text_stash"))return;e.data("_text_stash",e.text()),e.text(e.data("shift"))}else void 0!==e.data("_text_stash")&&e.text(e.data("_text_stash"))}function tt(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=d.getCurrentQuestion(t);if(null!==n){var r=t.find(".js-quizle-next-step"),i=n.data("required")&&!d.isQuestionAnswered(n);d.isInProcess(t)&&(i=!0),r.prop("disabled",i),!e||i||r.is(":focus")||r.focus(),n.next().length?void 0!==r.data("source_text")&&r.text(r.data("source_text")):(void 0===r.data("source_text")&&r.data("source_text",r.text()),r.text(r.data("finish_text")))}}function et(t,e){return t.data("options")[e]}function nt(t){"function"==typeof jQuery&&t instanceof jQuery&&(t=t[0]);var e=t.getBoundingClientRect();return e.top>=0&&e.left>=0&&e.bottom<=(window.innerHeight||document.documentElement.clientHeight)&&e.right<=(window.innerWidth||document.documentElement.clientWidth)}function rt(t){return it.apply(this,arguments)}function it(){return it=n(t().mark((function n(r){var i,a=arguments;return t().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return i=a.length>1&&void 0!==a[1]?a[1]:500,t.abrupt("return",new b((function(t){e([document.documentElement,document.body]).animate({scrollTop:r},i,t)})));case 2:case"end":return t.stop()}}),n)}))),it.apply(this,arguments)}e("body").hasClass("single-quizle-result")&&V(d.getScriptParams.goodshare_url,!0),e(document).on("keydown",'.js-quizle-answer input[type="text"], .js-quizle-answer textarea',(function(t){var n=e(t.currentTarget),i=n.parents(".js-quizle"),a=n.parents(".js-quizle-question"),o=n.parents(".js-quizle-answer");13===t.keyCode&&n.is("input")||13===t.keyCode&&n.is("textarea")&&t.shiftKey?x(a):(clearTimeout(r),r=setTimeout((function(){d.setCurrentQuestion(i,a),n.data("is_custom_answer")&&!a.data("is_multiple")&&a.find(".js-quizle-answer").removeClass("checked");var t=n.val(),e=n.data("is_custom_answer")?new S(o.data("identity"),t):new O(t);t&&t.trim()?(n.parents(".js-quizle-answer").addClass("checked"),d.removeAnswer(i,a,e).addAnswer(i,a,e)):(n.parents(".js-quizle-answer").removeClass("checked"),d.removeAnswer(i,a,e)),tt(i,!1),Z(a)}),300))})),e(document).on("click",".js-quizle-answer input",(function(t){var n=e(t.currentTarget).parents(".js-quizle-answer").find(".js-quizle-custom-answer-input");n.length&&!(n.val()||"").trim()&&t.preventDefault()})),e(document).on("change",".js-quizle-answer input, .js-quizle-answer textarea",function(){var r=n(t().mark((function n(r){var o,s,u,c,l,f,p;return t().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(o=e(r.currentTarget),s=o.parents(".js-quizle"),u=o.parents(".js-quizle-question"),c=o.parents(".js-quizle-answer"),l=c.find(".js-quizle-custom-answer-input"),!u.data("confirmed")){t.next=3;break}return t.abrupt("return");case 3:if(f=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return l.length?(null===t&&(t=(l.val()||"").trim()),new S(c.data("identity"),t)):new A(c.data("identity"))},d.setCurrentQuestion(s,u),o.is(":checkbox")?o.is(":checked")?(c.addClass("checked"),d.addAnswer(s,u,f())):(c.removeClass("checked"),d.removeAnswer(s,u,f())):o.is(":radio")?(u.find(".js-quizle-answer").removeClass("checked"),c.addClass("checked"),d.removeAnswer(s,u).addAnswer(s,u,f())):o.data("is_custom_answer")?(p=(o.val()||"").trim())?(u.data("is_multiple")||(u.find(".js-quizle-answer").removeClass("checked"),d.removeAnswer(s,u)),c.addClass("checked"),d.addAnswer(s,u,f(p))):(c.removeClass("checked"),d.removeAnswer(s,u,f(p))):v(s,u,o),tt(s),et(s,"type")===i&&et(s,"show_results")){t.next=15;break}if("radio"!==o.prop("type")){t.next=15;break}if(!d.isInProcess(s)){t.next=11;break}return t.abrupt("return");case 11:if(et(s,"view_type")===a){t.next=13;break}return t.abrupt("return");case 13:return t.next=15,x(u);case 15:case"end":return t.stop()}}),n)})));return function(t){return r.apply(this,arguments)}}()),e(document).on("click",".js-quizle-welcome-start",function(){var r=n(t().mark((function n(r){var i,o,s,u,c;return t().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(i=e(r.currentTarget).parents(".js-quizle"),!d.isInProcess(i)){t.next=3;break}return t.abrupt("return");case 3:o=i.find(".js-quizle-welcome"),s=i.find(".js-quizle-body"),u=i.find(".js-quizle-questions"),d.setInProcess(i,!0),c=u.find(".js-quizle-question:first"),d.setCurrentQuestion(i,c),Z(c),a===et(i,"view_type")&&(u.find(".js-quizle-question").hide(),u.find(".js-quizle-question:first").show()),o.fadeOut(et(i,"animation_duration"),(function(){s.fadeIn(et(i,"animation_duration")),d.setInProcess(i,!1),a===et(i,"view_type")&&(tt(i),Y(c))})),document.dispatchEvent(new CustomEvent("quizle:start",{detail:{quizle:i.data("title"),$quizle:i}}));case 11:case"end":return t.stop()}}),n)})));return function(t){return r.apply(this,arguments)}}()),e(document).on("click",".js-quizle-prev-step, .js-quizle-next-step",function(){var r=n(t().mark((function n(r){var a,o,s,u;return t().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(a=e(r.currentTarget),o=a.parents(".js-quizle"),s=a.data("direction"),u=o.find(".quizle-question:visible:first"),"next"!==s){t.next=25;break}if(!u.data("confirmed")){t.next=7;break}return t.next=6,x(u);case 6:case 14:return t.abrupt("return");case 7:if(u.find(".js-quizle-answer input, .js-quizle-answer textarea").each((function(){var t=e(this);t.data("is_custom_answer")||t.is(":checkbox")||t.is(":radio")||v(o,u,t)})),u.find(".js-quizle-custom-answer-input").prop("disabled",!0),et(o,"type")!==i){t.next=23;break}if(!et(o,"show_results")){t.next=19;break}if(!u.data("answer_desc_shown")){t.next=15;break}return t.next=14,x(u);case 15:d.setConfirmed(o,u),m(u).then(w).then(y()),t.next=21;break;case 19:return t.next=21,x(u);case 21:t.next=25;break;case 23:return t.next=25,x(u);case 25:if("prev"!==s){t.next=28;break}return t.next=28,C(u);case 28:case"end":return t.stop()}}),n)})));return function(t){return r.apply(this,arguments)}}()),e(document).on("click",".js-quizle-list-submit",function(){var r=n(t().mark((function r(i){var a,c,l,f,p,h,m;return t().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(i.preventDefault(),a=e(i.currentTarget),c=a.parents(".js-quizle"),a.prop("disabled",!0),c.find(".js-quizle-question").removeClass("require-select-answer"),l=!1,f=null,c.find(".js-quizle-question").each((function(t,n){var r=e(n);r.data("required")&&(d.isQuestionAnswered(r,c)||(l=!0,r.addClass("require-select-answer"),null===f&&(f=r)))})),!l){r.next=14;break}if(nt(f)){r.next=11;break}return r.next=11,rt(f.offset().top+20);case 11:return a.blur(),a.prop("disabled",!1),r.abrupt("return");case 14:if(a.blur(),c.find(".js-quizle-question").each((function(t,n){var r=e(n);r.find(".js-quizle-answer input, .js-quizle-answer textarea").each((function(){var t=e(this);t.data("is_custom_answer")||t.is(":checkbox")||t.is(":radio")||v(c,r,t)})),d.setConfirmed(c,r)})),c.find(".js-quizle-custom-answer-input").prop("disabled",!0),!et(c,"show_results")){r.next=22;break}return p=[],c.find(".js-quizle-question").each(function(){var r=n(t().mark((function n(r,i){return t().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",p.push(g(e(i))));case 1:case"end":return t.stop()}}),n)})));return function(t,e){return r.apply(this,arguments)}}()),r.next=22,b.all(p);case 22:if(a.prop("disabled",!1),a.hide(),a.parents(".js-quizle-footer").hide(),h=et(c,"contacts_order"),s!==h&&null!==h){r.next=34;break}return r.next=29,d.submitQuizleData(c,Q|E|I);case 29:m=r.sent,$(c,m),G(c,!1),r.next=38;break;case 34:if(o!==h&&u!==h){r.next=38;break}return r.next=37,d.submitQuizleData(c,Q|I);case 37:J(c,!1);case 38:case"end":return r.stop()}}),r)})));return function(t){return r.apply(this,arguments)}}()),e(document).on("click",".js-quizle-result-button",(function(t){t.preventDefault();var n=e(t.currentTarget),r=n.parents(".js-quizle");if(n.attr("href")&&n.attr("href").length&&"#"!==n.attr("href"))try{var i=new URL(n.attr("href"));window.open(i,"_blank","noopener");window.focus()}catch(t){console.error(t)}n.blur(),n.data("clicked")||("#"===n.attr("href")&&s===et(r,"contacts_order")&&J(r,a===et(r,"view_type")),n.data("clicked",1))})),e(document).on("submit",".js-quizle-contact-data form",function(){var r=n(t().mark((function n(r){var i,c,l,p,h,v,m,y,w,g,_;return t().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(r.preventDefault(),i=e(r.currentTarget),c=i.parents(".js-quizle"),l=i.find('button[type="submit"]'),p=et(c,"contacts_order"),h=et(c,"view_type"),l.attr("disabled",!0),l.data("toggle_txt")&&(l.data("source_txt",l.text()),l.text(l.data("toggle_txt"))),v="",s!==p){t.next=16;break}return t.next=12,d.submitQuizleData(c,P,i.get(0));case 12:m=t.sent,v=m.contactsSuccessMessage,t.next=33;break;case 16:if(o!==p){t.next=26;break}return G(c,a===h),t.next=20,b.all([d.submitQuizleData(c,P|Q|E,i.get(0)),M(c)]);case 20:y=t.sent,w=f(y,1),(g=w[0])&&(v=g.contactsSuccessMessage,$(c,g)),t.next=33;break;case 26:if(u!==p){t.next=33;break}return t.next=29,d.submitQuizleData(c,P,i.get(0));case 29:_=t.sent,c.find(".js-quizle-contacts").empty().html(_.contactsSuccessMessage),c.find(".js-quizle-contact-data").remove(),$(c,_);case 33:v&&(i.find("fieldset").attr("disabled",!0),l.text(l.data("source_txt")),c.find(".js-quizle-contacts").empty().html(v));case 34:case"end":return t.stop()}}),n)})));return function(t){return r.apply(this,arguments)}}()),e(document).on("change",".js-quizle-contacts-agreement",(function(){var t=e(this),n=t.parents(".js-quizle-contact-data").find("form");t.is(":checked")?n.find("fieldset").attr("disabled",!1):n.find("fieldset").attr("disabled",!0)}))}))}));